{% set package_table = {
    'Debian': {'salt-master': 'salt-master',
               'salt-minion': 'salt-minion',
               'git-python': 'python-git'},
    'Ubuntu': {'salt-master': 'salt-master',
               'salt-minion': 'salt-minion',
               'git-python': 'python-git'},
    'CentOS': {'salt-master': 'salt-master',
               'salt-minion': 'salt-minion',
               'git-python': 'GitPython'},
    'Fedora': {'salt-master': 'salt-master',
               'salt-minion': 'salt-minion',
               'git-python': 'GitPython'},
    'RedHat': {'salt-master': 'salt-master',
               'salt-minion': 'salt-minion',
               'git-python': ''},
    'Gentoo': {'salt-master': 'app-admin/salt',
               'salt-minion': 'app-admin/salt',
               'git-python': ''},
    'Arch':   {'salt-master': 'salt',
               'salt-minion':  'salt',
               'git-python': ''}
} %}

{% if 'package_table' in pillar %}
    {% set pkgs = pillar['package_table'] %}
{% elif grains['os'] in package_table %}
    {% set pkgs = package_table[grains['os']] %}
{% endif %}
